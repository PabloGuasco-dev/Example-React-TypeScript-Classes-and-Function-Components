{"ast":null,"code":"var _jsxFileName = \"/Users/pguasco/Projects/challenge-cabify/src/components/checkout.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useGetData } from '../hooks/useApiCall.tsx';\nimport Modal from './modal.tsx';\nimport checkout from '../entities/checkout.ts';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst CheckoutView = () => {\n  _s();\n\n  const [items, setItems] = useState([]);\n  const [total, setTotal] = useState(0);\n  const [show, setShow] = useState(false);\n  const [selectedItem, setSelectedItem] = useState();\n  let articles = {};\n  let co = undefined;\n  articles = useGetData().data;\n\n  if (articles && !co) {\n    co = new checkout(articles, items);\n  }\n\n  useEffect(() => {\n    if (articles && co) {\n      setTotal(co.total());\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [items]);\n\n  const addItem = event => {\n    if (event.target.value !== \"\") {\n      const {\n        foundArticle,\n        items\n      } = co.scan(event.target.value);\n\n      if (foundArticle) {\n        setItems([...items]);\n        setTimeout(() => {\n          event.target.value = \"\";\n        }, 200);\n      }\n    }\n  };\n\n  const reset = () => {\n    setItems([]);\n    setTotal(0);\n  };\n\n  const handleClose = () => {\n    setShow(false);\n  };\n\n  const handleShow = item => {\n    setSelectedItem(item);\n    setShow(true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Insert Code:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"For example: MUG, TSHIRT, CAP...\",\n        onChange: event => addItem(event),\n        type: \"text\",\n        className: \"form-control\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"listItem\",\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Code\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Description\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Quantity\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Price\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: items && items.map(item => /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"listItem\",\n              onClick: () => handleShow(item),\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.code\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.quantity\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.price\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 29\n              }, this)]\n            }, item.code, true, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 55\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Total: \", total]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"btn btn-primary\",\n        onClick: reset,\n        children: \"Reset\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }, this), show && /*#__PURE__*/_jsxDEV(Modal, {\n      handleClose: handleClose,\n      selectedItem: selectedItem\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 25\n    }, this)]\n  }, void 0, true);\n};\n\n_s(CheckoutView, \"GHraPGEJcKrdgJAb/ZKfllwDWQ8=\", false, function () {\n  return [useGetData];\n});\n\n_c = CheckoutView;\nexport default CheckoutView;\n\nvar _c;\n\n$RefreshReg$(_c, \"CheckoutView\");","map":{"version":3,"names":["React","useEffect","useState","useGetData","Modal","checkout","CheckoutView","items","setItems","total","setTotal","show","setShow","selectedItem","setSelectedItem","articles","co","undefined","data","addItem","event","target","value","foundArticle","scan","setTimeout","reset","handleClose","handleShow","item","map","code","name","quantity","price"],"sources":["/Users/pguasco/Projects/challenge-cabify/src/components/checkout.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useGetData } from '../hooks/useApiCall.tsx';\nimport Modal from './modal.tsx';\nimport checkout from '../entities/checkout.ts'\n\ntype Item  = {\n    code: string,\n    name: string,\n    quantity: number,\n    price: number,\n}\n\nconst CheckoutView = () => {\n    const [items, setItems] = useState<Item[]>([]);\n    const [total, setTotal] = useState<number>(0);\n    const [show, setShow] = useState(false);\n    const [selectedItem, setSelectedItem] = useState()\n\n    let articles: Object = {};\n    let co:checkout = undefined;\n    \n    articles = useGetData().data;\n    \n    if(articles && !co) {\n        co = new checkout(articles, items);\n    }\n\n    useEffect(() => {\n        if(articles && co) {\n            setTotal(co.total());\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [items]);\n\n    const addItem = (event) => {\n        if (event.target.value !== \"\") {\n            const { foundArticle, items } = co.scan(event.target.value);\n            if (foundArticle) {\n                setItems([...items]);\n                setTimeout(() => {\n                    event.target.value = \"\";\n                }, 200)\n            }\n        }\n    }\n\n    const reset = () => {\n        setItems([]);\n        setTotal(0);\n    }\n\n    const handleClose = () => {setShow(false)};\n    const handleShow = (item) => {\n        setSelectedItem(item);\n        setShow(true);        \n    }\n\n    return (\n        <><div className=\"form-group\">\n            <label>Insert Code:</label>\n            <input placeholder=\"For example: MUG, TSHIRT, CAP...\" onChange={(event) => addItem(event)} type=\"text\" className=\"form-control\"></input>\n            <div className=\"container-table\">\n                <table className=\"table\">\n                    <thead>\n                        <tr className='listItem'>\n                            <th>Code</th>\n                            <th>Description</th>\n                            <th>Quantity</th>\n                            <th>Price</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {items && items.map((item) => <tr className='listItem' onClick={() => handleShow(item)} key={item.code}>\n                            <td>{item.code}</td>\n                            <td>{item.name}</td>\n                            <td>{item.quantity}</td>\n                            <td>{item.price}</td>\n                            <td>...</td>\n                        </tr>)}\n                    </tbody>\n                </table>\n                <label>Total: {total}</label>\n            </div>\n            <button type=\"button\" className=\"btn btn-primary\" onClick={reset}>Reset</button>\n        </div>{ show && <Modal handleClose={ handleClose } selectedItem={ selectedItem }>\n                        </Modal>}</>\n    )\n}\n\nexport default CheckoutView;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}